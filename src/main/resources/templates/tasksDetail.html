<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ToDOリスト</title>
<link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>
	<header th:replace="header"></header>
	<hr>
	
	<nav>
		<a href="/tasks">全タスク</a>
		<a th:each="c:${categories}" th:href="@{/tasks(categoryId=${c.id})}">
			<span th:text="${c.name}" style="padding-left: 10px;"></span>
		</a>
	</nav>
		<table border="1">
		<tr>
			<th>ID</th>
			<th>カテゴリーID</th>
			<th>タイトル</th>
			<th>期限</th>
			<th>進捗状況</th>
			<th>メモ</th>
			<th>更新</th>
			<th>削除</th>
		</tr>
		<tr th:each="task:${tasks}">
			<td th:text="${task.id}"></td>
			<td>
				<span th:if="${task.categoryId}==1">仕事</span>
				<span th:if="${task.categoryId}==2">個人</span>
				<span th:if="${task.categoryId}==3">その他</span>
			</td>
			<td th:text="${task.title}"></td>
			<td th:text="${task.closingDate}"></td>
			<td>
				<span th:if="${task.progress}==0">未着手</span>
				<span th:if="${task.progress}==1">進行中</span>
				<span th:if="${task.progress}==2">完了</span>
			</td>
			<td th:text="${task.memo}"></td>
			<td>
				<form th:action="@{/tasks/{id}/edit(id=${task.id})}" method="get">
					<button type="submit">更新</button>
				</form>
			</td>
			<td>
				<form th:action="@{/tasks/{id}/delete(id=${task.id})}" method="post">
					<button type="submit">削除</button>
				</form>
			</td>
		</tr>
	</table>
	<hr>
	<footer th:replace="footer"></footer>

</body>
</html>